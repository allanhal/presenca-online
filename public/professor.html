<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>

</head>

<body>
  <p>
    <input type="text" name="" id="dia" placeholder="Insira dia" />
  </p>
  <p>
    <input type="text" name="" id="professor" placeholder="Insira professor" />
  </p>
  <p>
    <input type="text" name="" id="turno" placeholder="Insira turno" />
  </p>
  <button onclick="gerarQRCODE()">Gerar QRCODE</button>
  <img id="qrcode" src="" />
  <div id="presenca"></div>
  <p>
    <button onclick="atualizar()">Atualizar Presenca</button>
  </p>

  <script>
    async function atualizar() {
      const response = await fetch(
        "/ver-presenca"
      );
      const result = await response.json();
      document.getElementById("presenca").innerHTML = result
        .map(
          (item) =>
            `
              <p>Presenca</p>
              <li>Aula: ${item.aula}</li>
              <li>Professor: ${item.professor}</li>
              <li>Turno: ${item.turno}</li>
              <li>Nome: ${item.nome}</li>
              <p></p>

          `
        )
        .join("");
    }
    async function gerarQRCODE() {
      var dia = document.getElementById("dia").value
      var professor = document.getElementById("professor").value
      var turno = document.getElementById("turno").value
      var qrcode = `https://api.qrserver.com/v1/create-qr-code/?size=1000x1000&data=https://presenca-virtual.onrender.com/%3Faula=${dia}%26professor=${professor}%26turno=${turno}`
      console.log(qrcode)
      document.getElementById("qrcode").src = qrcode
    }
  </script>
</body>

</html>